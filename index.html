<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Stroke Triage</title>

<meta name="theme-color" content="#007AFF">

<style>
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,sans-serif;
  background:#f2f2f7;
}

.header{
  background:#007AFF;
  color:white;
  padding:18px;
  font-size:20px;
  font-weight:600;
}

.container{
  padding:20px;
}

.card{
  background:white;
  padding:20px;
  border-radius:16px;
  box-shadow:0 6px 20px rgba(0,0,0,0.08);
  margin-bottom:20px;
}

button{
  width:100%;
  padding:16px;
  font-size:18px;
  border:none;
  border-radius:14px;
  background:#007AFF;
  color:white;
  margin-top:16px;
}

button:active{
  opacity:0.8;
}

.secondary{
  background:#e5e5ea;
  color:black;
}
.hidden{
  display:none;
}

.result{
  font-size:18px;
  font-weight:600;
}
</style>
</head>

<body>

<div class="header">
  Stroke Triage
</div>

<div class="container">

  <!-- トップ画面 -->
  <div id="top" class="card">
    <p>本アプリは評価補助ツールです。</p>
    <button onclick="start()">同意して評価開始</button>
  </div>

  <!-- 評価画面 -->
  <div id="eval" class="hidden">

    <div class="card">
      <p>意識障害はありますか？</p>
      <button onclick="answer(1)">はい</button>
      <button class="secondary" onclick="answer(0)">いいえ</button>
    </div>

    <div class="card hidden" id="q2">
      <p>片麻痺はありますか？</p>
      <button onclick="answer2(1)">はい</button>
      <button class="secondary" onclick="answer2(0)">いいえ</button>
    </div>

  </div>

  <!-- 結果 -->
  <div id="result" class="card hidden">
    <div class="result" id="resultText"></div>
    <button onclick="reset()">最初に戻る</button>
  </div>

</div>

<script>

let score = 0;

function start(){
  document.getElementById("top").classList.add("hidden");
  document.getElementById("eval").classList.remove("hidden");
}

function answer(val){
  score += val;
  document.getElementById("q2").classList.remove("hidden");
}

function answer2(val){
  score += val;
  showResult();
}

function showResult(){
  document.getElementById("eval").classList.add("hidden");
  document.getElementById("result").classList.remove("hidden");

  if(score >= 1){
    document.getElementById("resultText").innerText =
      "脳卒中疑い。専門施設へ搬送を検討してください。";
  } else {
    document.getElementById("resultText").innerText =
      "重篤所見は現時点で強く疑いません。";
  }
}

function reset(){
  score = 0;
  document.getElementById("result").classList.add("hidden");
  document.getElementById("eval").classList.add("hidden");
  document.getElementById("q2").classList.add("hidden");
  document.getElementById("top").classList.remove("hidden");
}

</script>

</body>
</html>
